(function(e){function t(t){for(var n,o,s=t[0],c=t[1],l=t[2],u=0,v=[];u<s.length;u++)o=s[u],Object.prototype.hasOwnProperty.call(r,o)&&r[o]&&v.push(r[o][0]),r[o]=0;for(n in c)Object.prototype.hasOwnProperty.call(c,n)&&(e[n]=c[n]);d&&d(t);while(v.length)v.shift()();return i.push.apply(i,l||[]),a()}function a(){for(var e,t=0;t<i.length;t++){for(var a=i[t],n=!0,s=1;s<a.length;s++){var c=a[s];0!==r[c]&&(n=!1)}n&&(i.splice(t--,1),e=o(o.s=a[0]))}return e}var n={},r={app:0},i=[];function o(t){if(n[t])return n[t].exports;var a=n[t]={i:t,l:!1,exports:{}};return e[t].call(a.exports,a,a.exports,o),a.l=!0,a.exports}o.m=e,o.c=n,o.d=function(e,t,a){o.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:a})},o.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},o.t=function(e,t){if(1&t&&(e=o(e)),8&t)return e;if(4&t&&"object"===typeof e&&e&&e.__esModule)return e;var a=Object.create(null);if(o.r(a),Object.defineProperty(a,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var n in e)o.d(a,n,function(t){return e[t]}.bind(null,n));return a},o.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return o.d(t,"a",t),t},o.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},o.p="/";var s=window["webpackJsonp"]=window["webpackJsonp"]||[],c=s.push.bind(s);s.push=t,s=s.slice();for(var l=0;l<s.length;l++)t(s[l]);var d=c;i.push([2,"chunk-vendors"]),a()})({0:function(e,t){},1:function(e,t){},10:function(e,t){},2:function(e,t,a){e.exports=a("56d7")},3:function(e,t){},4:function(e,t){},"4a11":function(e,t,a){e.exports=a.p+"media/error.b6f91ae2.wav"},5:function(e,t){},"56d7":function(e,t,a){"use strict";a.r(t);a("e260"),a("e6cf"),a("cca6"),a("a79d"),a("caad"),a("2532");var n=a("2b0e"),r=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("v-app",[a("v-app-bar",{attrs:{app:"",color:"secondary",dark:"",dense:""}},[a("div",{staticClass:"d-flex align-center"},[a("font-awesome-icon",{attrs:{icon:"syringe",size:"lg",transition:"scale-transition",spin:"","fixed-width":""}}),a("div",{staticClass:"ml-3 text-sm-h6"},[e._v("CHECK MON VAX")])],1),a("v-spacer"),a("div",{staticClass:"text-center"},[a("v-menu",{attrs:{"offset-y":""},scopedSlots:e._u([{key:"activator",fn:function(t){var n=t.on,r=t.attrs;return[a("v-btn",e._g(e._b({staticClass:"px-8",attrs:{rounded:"",dark:""}},"v-btn",r,!1),n),[e._v(" "+e._s(e.$t(e.$i18n.locale))+" ")])]}}])},[a("v-list",e._l(e.langs,(function(t,n){return a("v-list-item",{key:n,attrs:{link:""}},[a("v-list-item-title",{on:{click:function(a){e.$i18n.locale=t}}},[e._v(e._s(e.$t(t)))])],1)})),1)],1)],1)],1),a("v-main",[a("CovidReader")],1),a("v-footer",{attrs:{color:"secondary",padless:""}},[a("v-row",{attrs:{justify:"center","no-gutters":""}},[a("v-col",{staticClass:"pa-4 white--text",attrs:{cols:"12",md:"9"}},[a("h3",[e._v(e._s(e.$t("privacySecurityNotice"))+":")]),a("ul",[a("li",[a("strong",[e._v(e._s(e.$t("securityNotice1")))])]),a("li",[e._v(" "+e._s(e.$t("securityNotice2"))+" ")]),a("li",[e._v(" "+e._s(e.$t("securityNotice3"))+" ")]),a("li",[e._v(" "+e._s(e.$t("securityNotice4"))+" ")])])]),a("v-col",{staticClass:"pa-4 white--text",attrs:{cols:"12",md:"3"}},[a("div",[a("a",{staticClass:"white--text",attrs:{href:"https://github.com/chriscokid/shc-qr-code-decoder"}},[e._v(e._s(e.$t("sourceCode")))])]),a("div",[a("span",{staticClass:"text-decoration-underline"},[e._v(e._s(e.$t("supportAndContact"))+":")]),e._v(" contact@checkmonvax.net")]),a("div",{staticClass:"mt-3"},[e._v("Proudly hosted on GitHub")])])],1)],1)],1)},i=[],o=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("div",{staticClass:"pdf-container",attrs:{id:"pdfContainer"}},[a("pdf",{ref:"pdfCanvas",attrs:{src:e.pdfUrl},on:{loaded:e.pdfLoaded}})],1),a("v-container",{attrs:{fluid:""}},[e.cameraRunning?e._e():a("v-col",{attrs:{cols:"12",md:"12"}},[a("h3",[e._v(e._s(e.$t("startupGuide")))])]),a("v-row",[a("v-col",{staticClass:"d-flex align-stretch",attrs:{cols:"12",md:0!=e.latestEntries.length||e.cameraRunning?6:12}},[a("div",{staticClass:"video-container d-flex align-stretch"},[a("div",{staticClass:"video-stream theme--light v-sheet--outlined",attrs:{id:"qrVideo"}},[e.cameraRunning?a("qrcode-stream",{attrs:{track:e.paintQROutline},on:{init:e.onCameraInit,decode:e.handleQRCode}},[a("div",{staticClass:"camera-button-group"},[a("v-btn",{staticClass:"mx-2",attrs:{fab:"",dark:"",small:""},on:{click:function(t){return e.stopCamera()}}},[a("v-icon",{attrs:{dark:""}},[e._v(" mdi-menu-left ")])],1)],1),e.cameraLoading?a("div",{staticClass:"d-flex align-center justify-center",staticStyle:{height:"100%"}},[a("v-progress-circular",{staticClass:"ml-5",attrs:{indeterminate:"",color:"primary"}})],1):e._e()]):e._e()],1),e.cameraRunning?e._e():a("div",{staticClass:"center-full"},[e.cameraRunning?e._e():a("v-btn",{staticClass:"text--center",attrs:{outlined:"",block:"",rounded:"",color:"green"},on:{click:function(t){return e.setupCamera()}}},[e._v(e._s(e.$t("startCameraToReadQRCode")))]),a("div",{staticClass:"mt-5 mb-5 text-center"},[e._v(e._s(e.$t("or")))]),a("v-file-input",{attrs:{outlined:"",dense:"",rounded:"",accept:"application/pdf, image/*",label:e.$t("loadQRData")},on:{change:function(t){return e.onManualFileUpload()}},model:{value:e.manualQrImport,callback:function(t){e.manualQrImport=t},expression:"manualQrImport"}}),e.pdfLoading?a("v-progress-linear",{attrs:{indeterminate:"",color:"primary"}}):e._e()],1)])]),a("v-col",{attrs:{cols:"12",md:0!=e.latestEntries.length||e.cameraRunning?6:12,id:"#results"}},[0!=e.latestEntries.length?a("VaccinePatient",{attrs:{patients:e.latestEntries,rawData:e.latestEntriesRaw,dataValidated:e.dataValidated}}):e.cameraRunning&&0==e.latestEntries.length?a("div",{staticClass:"fill-height"},[a("v-card",{staticClass:"justify-center align-center fill-height d-flex",attrs:{outlined:""}},[e._v(" "+e._s(e.$t("waitingQRCode"))+" "),a("v-progress-circular",{staticClass:"ml-5",attrs:{indeterminate:"",color:"primary"}})],1)],1):e._e()],1)],1)],1)],1)},s=[],c=a("4f96"),l=a("b85c"),d=a("1da1"),u=(a("96cf"),a("d3b7"),a("8a59"),a("9a8c"),a("a975"),a("735e"),a("c1ac"),a("d139"),a("3a7b"),a("d5d6"),a("82f8"),a("e91f"),a("60bd"),a("5f96"),a("3280"),a("3fcc"),a("ca91"),a("25a1"),a("cd26"),a("3c5d"),a("2954"),a("649e"),a("219c"),a("170b"),a("b39a"),a("72f7"),a("3ca3"),a("ddb0"),a("2b3d"),a("fb6a"),a("b0c0"),a("ecec")),v=a.n(u),p=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",e._l(e.patients,(function(t){return a("div",{key:t.givenName},[a("v-card",{staticClass:"mx-auto",attrs:{outlined:""}},[a("v-list-item",{attrs:{"three-line":""}},[a("v-list-item-content",[a("div",{staticClass:"text-overline mb-4 text-wrap"},[e.dataValidated?a("span",[e._v(" "+e._s(e.$t("verifiedQRCode"))+" ")]):a("span",[a("v-chip",{staticClass:"ma-2",attrs:{color:"red","text-color":"white"}},[a("h6",[e._v(e._s(e.$t("nonVerifiedQRCode")))])])],1),a("v-btn",{staticClass:"mx-2",attrs:{width:"20",height:"20",outlined:"",fab:"",dark:"","x-small":"",color:"grey lighten-1"},on:{click:function(t){e.showValidationDialog=!0}}},[e._v(" ? ")])],1),a("v-list-item-title",{staticClass:"text-h5 mb-1"},[e._v(" "+e._s(t.givenName)+" "+e._s(t.familyName)+" ")]),a("v-list-item-subtitle",[a("div",[e._v(" "+e._s(void 0==t.gender?"":e.$t(t.gender.toLowerCase())+", ")+" "+e._s(e.$t("born"))+" "+e._s(t.birthDate)+" ")]),a("div",[a("strong",[e._v(e._s(e.$t("receivedDoses",{dosesCount:t.vaccineEvents.length})))])])])],1),a("v-list-item-avatar",{attrs:{tile:"",size:"80"}},[a("font-awesome-icon",{attrs:{icon:"check",size:"lg",color:e.dataValidated&&t.vaccineEvents.length>=2?"green":"orange",transition:"scale-transition","fixed-width":""}})],1)],1),a("v-card-text",[a("strong",[e._v(e._s(e.$t("dosesDetails")))]),a("v-timeline",{attrs:{"align-top":"",dense:""}},e._l(t.vaccineEvents,(function(t,n){return a("v-timeline-item",{key:n,attrs:{color:"green",small:""}},[a("div",[a("div",{staticClass:"font-weight-normal"},[a("strong",[e._v(e._s(e.$t("doseNumberX"))+" "+e._s(n+1))]),a("br"),a("div",[e._v(" "+e._s(e.$t("date"))+": "+e._s(new Date(t.date).toDateString())+" ")]),a("div",[e._v(e._s(e.$t("place"))+": "+e._s(t.place))]),a("div",[e._v(e._s(e.$t("type"))+": "+e._s(t.type))]),a("div",[e._v(e._s(e.$t("lotNumber"))+": "+e._s(t.lotNumber))])])])])})),1)],1),a("v-card-actions",[a("div",[a("v-dialog",{scopedSlots:e._u([{key:"activator",fn:function(t){var n=t.on,r=t.attrs;return[a("v-btn",e._g(e._b({attrs:{outlined:"",rounded:"",color:"grey",dark:""}},"v-btn",r,!1),n),[e._v(" "+e._s(e.$t("seeRawData"))+" ")])]}}],null,!0),model:{value:e.showRawDataDialog,callback:function(t){e.showRawDataDialog=t},expression:"showRawDataDialog"}},[a("v-card",[a("v-card-title",{staticClass:"text-h5 grey lighten-2"},[e._v(" "+e._s(e.$t("qrCodeRawData"))+" ")]),a("v-card-text",[a("tree-view",{attrs:{data:e.rawData,options:{maxDepth:20}}})],1),a("v-divider"),a("v-card-actions",[a("v-spacer"),a("v-btn",{attrs:{color:"primary",text:""},on:{click:function(t){e.showRawDataDialog=!1}}},[e._v(" "+e._s(e.$t("close"))+" ")])],1)],1)],1),a("v-dialog",{model:{value:e.showValidationDialog,callback:function(t){e.showValidationDialog=t},expression:"showValidationDialog"}},[a("v-card",[a("v-card-title",{staticClass:"text-h5 grey lighten-2"},[e._v(" "+e._s(e.$t("qrCodeValidationInformation"))+" ")]),a("v-card-text",[a("div",{staticClass:"my-5"},[e._v(" "+e._s(e.$t("followingPublicKeyVerified"))+": ")]),a("tree-view",{attrs:{data:e.publicKey,options:{maxDepth:20}}}),a("div",{staticClass:"my-5"},[a("a",{attrs:{href:"https://spec.smarthealth.cards/#signing-health-cards"}},[e._v(e._s(e.$t("moreProtocolInformation")))])])],1),a("v-divider"),a("v-card-actions",[a("v-spacer"),a("v-btn",{attrs:{color:"primary",text:""},on:{click:function(t){e.showValidationDialog=!1}}},[e._v(" "+e._s(e.$t("close"))+" ")])],1)],1)],1)],1)])],1)],1)})),0)},f=[],m=a("7a83"),h={name:"VaccinePatient",data:function(){return{showRawDataDialog:!1,showValidationDialog:!1}},props:{patients:[],rawData:null,dataValidated:!1},methods:{},computed:{publicKey:function(){return m["e"]}}},g=h,b=a("2877"),R=a("6544"),w=a.n(R),y=a("8336"),C=a("b0af"),_=a("99d9"),x=a("cc20"),Q=a("169a"),V=a("ce7e"),D=a("da13"),k=a("8270"),O=a("5d23"),E=a("2fa4"),I=a("8414"),N=a("1e06"),P=Object(b["a"])(g,p,f,!1,null,null,null),S=P.exports;function $(e,t){return j.apply(this,arguments)}function j(){return j=Object(d["a"])(regeneratorRuntime.mark((function e(t,a){var n,r;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return n=Object.assign(new Image,{src:a}),e.next=3,new Promise((function(e){return n.addEventListener("load",(function(){return e()}))}));case 3:return r=Object.assign(t.createElement("canvas"),{width:n.width,height:n.height}).getContext("2d"),r.imageSmoothingEnabled=!1,r.drawImage(n,0,0),e.abrupt("return",r.getImageData(0,0,n.width,n.height));case 7:case"end":return e.stop()}}),e)}))),j.apply(this,arguments)}function L(e){var t=e.getContext("2d").getImageData(0,0,e.width,e.height);return t}w()(P,{VBtn:y["a"],VCard:C["a"],VCardActions:_["a"],VCardText:_["b"],VCardTitle:_["c"],VChip:x["a"],VDialog:Q["a"],VDivider:V["a"],VListItem:D["a"],VListItemAvatar:k["a"],VListItemContent:O["a"],VListItemSubtitle:O["b"],VListItemTitle:O["c"],VSpacer:E["a"],VTimeline:I["a"],VTimelineItem:N["a"]});var T=a("858e"),A=a("bb6f"),F=a("b765"),q=a.n(F),z=a("4a11"),B=a.n(z),J={name:"CovidReader",data:function(){return{cameraRunning:!1,cameraLoading:!1,latestEntries:[],latestEntriesRaw:null,dataValidated:!1,manualQrImport:null,pdfUrl:null,pdfLoading:!1}},components:{VaccinePatient:S,pdf:T["a"],QrcodeStream:A["QrcodeStream"]},methods:{setupCamera:function(){this.cameraRunning=!0},stopCamera:function(){this.cameraRunning=!1},handleQRFromImageData:function(e){var t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],a=v()(new Uint8ClampedArray(e.data.buffer),e.width,e.height);return null==a||null==a.data||void 0==a||void 0==a.data?(t&&this.raiseError("invalidQRCode"),!1):(this.handleQRCode(a.data),!0)},handleQRCode:function(e){var t=this;return Object(d["a"])(regeneratorRuntime.mark((function a(){var n,r,i,o;return regeneratorRuntime.wrap((function(a){while(1)switch(a.prev=a.next){case 0:if(n=Object(m["d"])(e),null!=n&&void 0!=n){a.next=5;break}return t.raiseError("invalidQRCode"),t.playError(),a.abrupt("return");case 5:return a.next=7,Object(m["b"])(n);case 7:if(r=a.sent,null!=r&&void 0!=r){a.next=12;break}return t.raiseError("invalidQRCode"),t.playError(),a.abrupt("return");case 12:return a.next=14,Object(m["a"])(n);case 14:if(a.sent){a.next=21;break}t.raiseError("authenticityCouldNotBeVerified"),t.playError(),t.dataValidated=!1,console.log("Could not validate the authenticity of the JWS against the public key"),a.next=23;break;case 21:t.playSuccess(),t.dataValidated=!0;case 23:i=JSON.parse(r),t.latestEntriesRaw=i,o=i.vc.credentialSubject.fhirBundle.entry,t.latestEntries=Object(m["c"])(o),t.scrollToResults(),t.$toast(t.$t("validQRCode"),{timeout:2e3});case 29:case"end":return a.stop()}}),a)})))()},scrollToResults:function(){return Object(d["a"])(regeneratorRuntime.mark((function e(){var t;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,new Promise((function(e){return setTimeout(e,100)}));case 2:t=document.getElementById("#results"),t.scrollIntoView({behavior:"smooth",block:"end"});case 4:case"end":return e.stop()}}),e)})))()},onManualFileUpload:function(){var e=this;return Object(d["a"])(regeneratorRuntime.mark((function t(){var a,n;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(null!=e.manualQrImport&&void 0!=e.manualQrImport){t.next=2;break}return t.abrupt("return");case 2:if(a=URL.createObjectURL(e.manualQrImport),!e.manualQrImport.type.includes("image")){t.next=12;break}return t.next=6,$(document,a);case 6:if(n=t.sent,null==n||void 0==n){t.next=10;break}return t.next=10,e.handleQRFromImageData(n);case 10:t.next=13;break;case 12:e.manualQrImport.type.includes("application/pdf")&&(e.pdfUrl=a);case 13:case"end":return t.stop()}}),t)})))()},pdfLoaded:function(){var e=this;return Object(d["a"])(regeneratorRuntime.mark((function t(){var a,n,r,i,o,s;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:e.pdfLoading=!0,a=10,n=300,r=0;case 4:if(!(r<a)){t.next=20;break}if(i=document.getElementById("pdfContainer").querySelector("canvas"),o=L(i),null==o||void 0==o){t.next=15;break}return t.next=10,e.handleQRFromImageData(o,!1);case 10:if(s=t.sent,!s){t.next=15;break}return e.pdfUrl=null,e.pdfLoading=!1,t.abrupt("return");case 15:return t.next=17,new Promise((function(e){return setTimeout(e,n)}));case 17:r++,t.next=4;break;case 20:e.raiseError("invalidQRCode"),e.pdfLoading=!1;case 22:case"end":return t.stop()}}),t)})))()},paintQROutline:function(e,t){var a,n=Object(l["a"])(e);try{for(n.s();!(a=n.n()).done;){var r=a.value,i=Object(c["a"])(r.cornerPoints),o=i[0],s=i.slice(1);t.strokeStyle="red",t.beginPath(),t.moveTo(o.x,o.y);var d,u=Object(l["a"])(s);try{for(u.s();!(d=u.n()).done;){var v=d.value,p=v.x,f=v.y;t.lineTo(p,f)}}catch(m){u.e(m)}finally{u.f()}t.lineTo(o.x,o.y),t.closePath(),t.stroke()}}catch(m){n.e(m)}finally{n.f()}},raiseError:function(e){this.$toast.error(this.$t(e),{timeout:5e3})},onCameraInit:function(e){var t=this;return Object(d["a"])(regeneratorRuntime.mark((function a(){var n;return regeneratorRuntime.wrap((function(a){while(1)switch(a.prev=a.next){case 0:return t.cameraLoading=!0,a.prev=1,a.next=4,e;case 4:a.next=11;break;case 6:a.prev=6,a.t0=a["catch"](1),n="","NotAllowedError"===a.t0.name?n="ERROR: you need to grant camera access permisson":"NotFoundError"===a.t0.name?n="ERROR: no camera on this device":"NotSupportedError"===a.t0.name?n="ERROR: secure context required (HTTPS, localhost)":"NotReadableError"===a.t0.name?n="ERROR: is the camera already in use?":"OverconstrainedError"===a.t0.name?n="ERROR: installed cameras are not suitable":"StreamApiNotSupportedError"===a.t0.name&&(n="ERROR: Stream API is not supported in this browser"),t.raiseError(n);case 11:return a.prev=11,t.cameraLoading=!1,a.finish(11);case 14:case"end":return a.stop()}}),a,null,[[1,6,11,14]])})))()},playSuccess:function(){return Object(d["a"])(regeneratorRuntime.mark((function e(){var t;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:t=new Audio(q.a),t.play();case 2:case"end":return e.stop()}}),e)})))()},playError:function(){return Object(d["a"])(regeneratorRuntime.mark((function e(){var t;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:t=new Audio(B.a),t.play();case 2:case"end":return e.stop()}}),e)})))()},switchCamera:function(){switch(this.camera){case"front":this.camera="rear";break;case"rear":this.camera="front";break}}}},M=J,U=(a("9101"),a("62ad")),G=a("a523"),K=a("23a7"),W=a("132d"),X=a("490a"),H=a("8e36"),Y=a("0fd9"),Z=Object(b["a"])(M,o,s,!1,null,null,null),ee=Z.exports;w()(Z,{VBtn:y["a"],VCard:C["a"],VCol:U["a"],VContainer:G["a"],VFileInput:K["a"],VIcon:W["a"],VProgressCircular:X["a"],VProgressLinear:H["a"],VRow:Y["a"]});var te={name:"App",components:{CovidReader:ee},data:function(){return{langs:["fr","en"]}}},ae=te,ne=a("7496"),re=a("40dc"),ie=a("553a"),oe=a("8860"),se=a("f6c4"),ce=a("e449"),le=Object(b["a"])(ae,r,i,!1,null,null,null),de=le.exports;w()(le,{VApp:ne["a"],VAppBar:re["a"],VBtn:y["a"],VCol:U["a"],VFooter:ie["a"],VList:oe["a"],VListItem:D["a"],VListItemTitle:O["c"],VMain:se["a"],VMenu:ce["a"],VRow:Y["a"],VSpacer:E["a"]});var ue=a("f309");n["a"].use(ue["a"]);var ve=new ue["a"]({}),pe=a("a925"),fe=a("ad3d"),me=a("ecee"),he=a("c074"),ge=a("558c"),be=a.n(ge),Re=a("6c42");a("da96");n["a"].config.productionTip=!1,n["a"].component("font-awesome-icon",fe["a"]),me["c"].add(he["b"]),me["c"].add(he["a"]),n["a"].use(pe["a"]);var we=new pe["a"]({locale:(navigator.language||navigator.userLanguage).includes("en")?"en":"fr",messages:{en:a("edd4"),fr:a("f693")}});n["a"].use(Re["a"],{}),n["a"].use(be.a),new n["a"]({i18n:we,vuetify:ve,render:function(e){return e(de)}}).$mount("#app")},6:function(e,t){},7:function(e,t){},"7a83":function(e,t,a){"use strict";(function(e){a.d(t,"d",(function(){return d})),a.d(t,"b",(function(){return u})),a.d(t,"e",(function(){return p})),a.d(t,"a",(function(){return f})),a.d(t,"c",(function(){return w}));var n=a("b85c"),r=a("d4ec"),i=a("1da1"),o=(a("96cf"),a("ac1f"),a("5319"),a("b0c0"),a("7db0"),a("1276"),a("d3b7"),a("25f0"),a("470b")),s=a.n(o),c=a("ad57"),l=a.n(c);function d(e){if(null==e||void 0==e)return null;try{for(var t=e.replace("shc:/",""),a="",n=0;n<t.length-1;n+=2){var r=t[n]+t[n+1],i=parseInt(r,10)+45;a+=String.fromCharCode(i)}return a}catch(o){return null}}function u(e){return v.apply(this,arguments)}function v(){return v=Object(i["a"])(regeneratorRuntime.mark((function t(a){var n,r,i;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.prev=0,n=a.split(".")[1],r=e.from(n,"base64"),t.next=5,new Promise((function(e,t){s.a.inflateRaw(r,(function(a,n){i=n,a?(console.log(a),t(a)):e(n)}))}));case 5:return i=t.sent,t.abrupt("return",i.toString("utf8"));case 9:return t.prev=9,t.t0=t["catch"](0),t.abrupt("return",null);case 12:case"end":return t.stop()}}),t,null,[[0,9]])}))),v.apply(this,arguments)}var p={kid:"akid",alg:"ES256",kty:"EC",crv:"P-256",use:"sig",x:"XSxuwW_VI_s6lAw6LAlL8N7REGzQd_zXeIVDHP_j_Do",y:"88-aI4WAEl4YmUpew40a9vq_w5OcFvsuaKMxJRLRLL0"};function f(e){return m.apply(this,arguments)}function m(){return m=Object(i["a"])(regeneratorRuntime.mark((function e(t){var a,n,r;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,l.a.JWK.asKey(p);case 3:return a=e.sent,n=l.a.JWS.createVerify(a),r=n.verify,e.next=7,r(t);case 7:return e.abrupt("return",!0);case 10:return e.prev=10,e.t0=e["catch"](0),e.abrupt("return",!1);case 13:case"end":return e.stop()}}),e,null,[[0,10]])}))),m.apply(this,arguments)}var h=function e(t,a,n,i,o,s){Object(r["a"])(this,e),this.birthDate=t,this.gender=a,this.familyName=n,this.givenName=i,this.vaccineEvents=o,this.patientRef=s},g=function e(t,a,n,i,o,s){Object(r["a"])(this,e),this.date=t,this.place=a,this.type=n,this.lotNumber=i,this.patientRef=o,this.doseNumber=s};function b(e){var t,a,n,r,i,o=null===(t=e.location)||void 0===t?void 0:t.display,s=e.lotNumber,c=null===(a=e.note)||void 0===a||null===(n=a[0])||void 0===n?void 0:n.text,l=e.occurrenceDateTime,d=null===(r=e.patient)||void 0===r?void 0:r.reference,u=null===(i=e.protocolApplied)||void 0===i?void 0:i.doseNumber;return new g(l,o,c,s,d,u)}function R(e){var t,a,n,r,i,o,s=e.birthDate,c=e.gender,l=null===(t=e.name)||void 0===t||null===(a=t[0])||void 0===a||null===(n=a.family)||void 0===n?void 0:n[0],d=null===(r=e.name)||void 0===r||null===(i=r[0])||void 0===i||null===(o=i.given)||void 0===o?void 0:o[0],u=new h(s,c,l,d,[]);return u}function w(e){var t=[],a=[];if(null==e||0==e.length)return null;var r,i=0,o=Object(n["a"])(e);try{for(o.s();!(r=o.n()).done;){var s=r.value,c=s.resource;if(null!=c&&void 0!=c){if("Immunization"==c.resourceType){var l=b(c);a.push(l)}if("Patient"==c.resourceType){var d=R(c);d.patientRef="resource:"+i,t.push(d)}i++}}}catch(f){o.e(f)}finally{o.f()}for(var u=function(){var e=p[v],a=t.find((function(t){return t.patientRef==e.patientRef}));null!=a&&a.vaccineEvents.push(e)},v=0,p=a;v<p.length;v++)u();return t}}).call(this,a("b639").Buffer)},8:function(e,t){},9:function(e,t){},9101:function(e,t,a){"use strict";a("e4cc")},b765:function(e,t,a){e.exports=a.p+"media/success.945d3b3a.wav"},e4cc:function(e,t,a){},edd4:function(e){e.exports=JSON.parse('{"startCameraToReadQRCode":"Start camera to read QR Code","pleaseStartCameraOrLoadFile":"Please start the camera or load to a file containing a QR Code","waitingQRCode":"Waiting for a QR Code ...","or":"Or","verifiedQRCode":"Verified QR Code","nonVerifiedQRCode":"Could not verify the authenticity of this QR Code","born":"Born","receivedDoses":"Received {dosesCount} doses","doses":"Doses","dose":"Dose","doseNumberX":"Dose numéro","dosesDetails":"Doses details","date":"Date","place":"Place","type":"Type","lotNumber":"Lot number","gender":"Gender","male":"Male","female":"Female","unknown":"Unknown","seeRawData":"See raw QR Code Data","qrCodeRawData":"QR code raw data","close":"Close","en":"English","fr":"Français","loadQRData":"Load QR code (PNG, JPEG, PDF)","privacySecurityNotice":"Data privacy and security notice","startupGuide":"This application allows you to decode the COVID-19 vaccination QR codes of Quebec. To get started, scan a QR code with your webcam or upload an image or PDF file containing a QR code.","securityNotice1":"This application is not official.","securityNotice2":"This application works client-side (static website), meaning the data you load is NOT sent to any server or any third party.","securityNotice3":"You must have the explicit consent of the person(s) QR codes your read.","securityNotice4":"It\'s forbidden to keep/store personnal data contained in the QR code without the QR code owner consent.","sourceCode":"Source code","supportAndContact":"Contact","invalidQRCode":"Invalid QR Code","authenticityCouldNotBeVerified":"Authenticity of the QR code could not be verified","validQRCode":"QR code decoded!","followingPublicKeyVerified":"The provided QR code has been verified against the following public key","qrCodeValidationInformation":"QR code authenticity verification","moreProtocolInformation":"For more information about the signing protocol click here"}')},f693:function(e){e.exports=JSON.parse('{"startCameraToReadQRCode":"Démarrer la caméra","pleaseStartCameraOrLoadFile":"Veuillez démarrer la caméra ou charger un fichier contenant un code QR","waitingQRCode":"En attente d\'un code QR ...","or":"Ou","verifiedQRCode":"Code QR vérifié","nonVerifiedQRCode":"Impossible de valider l\'authenticité de ce QR Code","born":"Né le","receivedDoses":"À reçu {dosesCount} doses ","doses":"Doses","dose":"Dose","doseNumberX":"Dose numéro","dosesDetails":"Détails des doses","date":"Date","place":"Lieu","type":"Type","lotNumber":"Numéro de lot","gender":"Sexe","male":"Homme","female":"Femme","unknown":"Inconnu","seeRawData":"Voir les données brutes du code QR","qrCodeRawData":"Données brutes du QR code","close":"Fermer","en":"English","fr":"Français","loadQRData":"QR code (PNG, JPEG, PDF)","privacySecurityNotice":"Notice sur la sécurité des données et la vie privée","startupGuide":"Cette application permet de lire les codes QR de vaccination COVID-19 du Québec. Pour commencer, scannez un QR code avec votre webcam ou chargez un fichier image ou PDF.","securityNotice1":"Cette application n\'est pas officielle","securityNotice2":"Cette application fonctionne côté client (site web statique), ce qui signifie que les données que vous chargez ne sont PAS envoyées à un serveur ou à un tiers.","securityNotice3":"Vous devez avoir le consentement explicite du/des propriétaire(s) des QR code(s) que vous lisez.","securityNotice4":"Il est interdit de collecter des données personnelles contenues dans un QR code sans le consentement du propriétaire du code QR concerné.","sourceCode":"Code source","supportAndContact":"Contact","invalidQRCode":"QR code invalide","authenticityCouldNotBeVerified":"L\'authenticité du code QR n\'a pas pu être vérifiée","validQRCode":"QR code décodé!","followingPublicKeyVerified":"Le code QR fourni a été vérifié par rapport à la clé publique suivante ","qrCodeValidationInformation":"Vérification de l\'authenticité du code QR","moreProtocolInformation":"Pour plus d\'informations sur le protocole de signature cliquez ici"}')}});
//# sourceMappingURL=app.4120ad62.js.map